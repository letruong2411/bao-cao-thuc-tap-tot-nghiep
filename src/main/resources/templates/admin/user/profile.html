<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">

<head th:replace="admin/common/header :: common-header"/>
<head>
    <!--<script th:src="@{/paging/jquery.twbsPagination.js}"></script>-->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.2/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.2/js/bootstrap.min.js"></script>

    <script>

        /*!
  * jQuery pagination plugin v1.4.2
  * http://josecebe.github.io/twbs-pagination/
  *
  * Copyright 2014-2018, Eugene Simakin
  * Released under Apache 2.0 license
  * http://apache.org/licenses/LICENSE-2.0.html
  */
        (function ($, window, document, undefined) {

            'use strict';

            var old = $.fn.twbsPagination;

            // PROTOTYPE AND CONSTRUCTOR

            var TwbsPagination = function (element, options) {
                this.$element = $(element);
                this.options = $.extend({}, $.fn.twbsPagination.defaults, options);

                if (this.options.startPage < 1 || this.options.startPage > this.options.totalPages) {
                    throw new Error('Start page option is incorrect');
                }

                this.options.totalPages = parseInt(this.options.totalPages);
                if (isNaN(this.options.totalPages)) {
                    throw new Error('Total pages option is not correct!');
                }

                this.options.visiblePages = parseInt(this.options.visiblePages);
                if (isNaN(this.options.visiblePages)) {
                    throw new Error('Visible pages option is not correct!');
                }

                if (this.options.beforePageClick instanceof Function) {
                    this.$element.first().on('beforePage', this.options.beforePageClick);
                }

                if (this.options.onPageClick instanceof Function) {
                    this.$element.first().on('page', this.options.onPageClick);
                }

                // hide if only one page exists
                if (this.options.hideOnlyOnePage && this.options.totalPages == 1) {
                    if (this.options.initiateStartPageClick) {
                        this.$element.trigger('page', 1);
                    }
                    return this;
                }

                if (this.options.href) {
                    this.options.startPage = this.getPageFromQueryString();
                    if (!this.options.startPage) {
                        this.options.startPage = 1;
                    }
                }

                var tagName = (typeof this.$element.prop === 'function') ?
                    this.$element.prop('tagName') : this.$element.attr('tagName');

                if (tagName === 'UL') {
                    this.$listContainer = this.$element;
                } else {
                    var elements = this.$element;
                    var $newListContainer = $([]);
                    elements.each(function (index) {
                        var $newElem = $("<ul></ul>");
                        $(this).append($newElem);
                        $newListContainer.push($newElem[0]);
                    });
                    this.$listContainer = $newListContainer;
                    this.$element = $newListContainer;
                }

                this.$listContainer.addClass(this.options.paginationClass);

                if (this.options.initiateStartPageClick) {
                    this.show(this.options.startPage);
                } else {
                    this.currentPage = this.options.startPage;
                    this.render(this.getPages(this.options.startPage));
                    this.setupEvents();
                }

                return this;
            };

            TwbsPagination.prototype = {

                constructor: TwbsPagination,

                destroy: function () {
                    this.$element.empty();
                    this.$element.removeData('twbs-pagination');
                    this.$element.off('page');

                    return this;
                },

                show: function (page) {
                    if (page < 1 || page > this.options.totalPages) {
                        throw new Error('Page is incorrect.');
                    }
                    this.currentPage = page;

                    this.$element.trigger('beforePage', page);

                    var pages = this.getPages(page);
                    this.render(pages);
                    this.setupEvents();

                    this.$element.trigger('page', page);

                    return pages;
                },

                enable: function () {
                    this.show(this.currentPage);
                },

                disable: function () {
                    var _this = this;
                    this.$listContainer.off('click').on('click', 'li', function (evt) {
                        evt.preventDefault();
                    });
                    this.$listContainer.children().each(function () {
                        var $this = $(this);
                        if (!$this.hasClass(_this.options.activeClass)) {
                            $(this).addClass(_this.options.disabledClass);
                        }
                    });
                },

                buildListItems: function (pages) {
                    var listItems = [];

                    if (this.options.first) {
                        listItems.push(this.buildItem('first', 1));
                    }

                    if (this.options.prev) {
                        var prev = pages.currentPage > 1 ? pages.currentPage - 1 : this.options.loop ? this.options.totalPages : 1;
                        listItems.push(this.buildItem('prev', prev));
                    }

                    for (var i = 0; i < pages.numeric.length; i++) {
                        listItems.push(this.buildItem('page', pages.numeric[i]));
                    }

                    if (this.options.next) {
                        var next = pages.currentPage < this.options.totalPages ? pages.currentPage + 1 : this.options.loop ? 1 : this.options.totalPages;
                        listItems.push(this.buildItem('next', next));
                    }

                    if (this.options.last) {
                        listItems.push(this.buildItem('last', this.options.totalPages));
                    }

                    return listItems;
                },

                buildItem: function (type, page) {
                    var $itemContainer = $('<li></li>'),
                        $itemContent = $('<a></a>'),
                        itemText = this.options[type] ? this.makeText(this.options[type], page) : page;

                    $itemContainer.addClass(this.options[type + 'Class']);
                    $itemContainer.data('page', page);
                    $itemContainer.data('page-type', type);
                    $itemContainer.append($itemContent.attr('href', this.makeHref(page)).addClass(this.options.anchorClass).html(itemText));

                    return $itemContainer;
                },

                getPages: function (currentPage) {
                    var pages = [];

                    var half = Math.floor(this.options.visiblePages / 2);
                    var start = currentPage - half + 1 - this.options.visiblePages % 2;
                    var end = currentPage + half;

                    var visiblePages = this.options.visiblePages;
                    if (visiblePages > this.options.totalPages) {
                        visiblePages = this.options.totalPages;
                    }

                    // handle boundary case
                    if (start <= 0) {
                        start = 1;
                        end = visiblePages;
                    }
                    if (end > this.options.totalPages) {
                        start = this.options.totalPages - visiblePages + 1;
                        end = this.options.totalPages;
                    }

                    var itPage = start;
                    while (itPage <= end) {
                        pages.push(itPage);
                        itPage++;
                    }

                    return {"currentPage": currentPage, "numeric": pages};
                },

                render: function (pages) {
                    var _this = this;
                    this.$listContainer.children().remove();
                    var items = this.buildListItems(pages);
                    $.each(items, function (key, item) {
                        _this.$listContainer.append(item);
                    });

                    this.$listContainer.children().each(function () {
                        var $this = $(this),
                            pageType = $this.data('page-type');

                        switch (pageType) {
                            case 'page':
                                if ($this.data('page') === pages.currentPage) {
                                    $this.addClass(_this.options.activeClass);
                                }
                                break;
                            case 'first':
                                $this.toggleClass(_this.options.disabledClass, pages.currentPage === 1);
                                break;
                            case 'last':
                                $this.toggleClass(_this.options.disabledClass, pages.currentPage === _this.options.totalPages);
                                break;
                            case 'prev':
                                $this.toggleClass(_this.options.disabledClass, !_this.options.loop && pages.currentPage === 1);
                                break;
                            case 'next':
                                $this.toggleClass(_this.options.disabledClass,
                                    !_this.options.loop && pages.currentPage === _this.options.totalPages);
                                break;
                            default:
                                break;
                        }

                    });
                },

                setupEvents: function () {
                    var _this = this;
                    this.$listContainer.off('click').on('click', 'li', function (evt) {
                        var $this = $(this);
                        if ($this.hasClass(_this.options.disabledClass) || $this.hasClass(_this.options.activeClass)) {
                            return false;
                        }
                        // Prevent click event if href is not set.
                        !_this.options.href && evt.preventDefault();
                        _this.show(parseInt($this.data('page')));
                    });
                },

                changeTotalPages: function (totalPages, currentPage) {
                    this.options.totalPages = totalPages;
                    return this.show(currentPage);
                },

                makeHref: function (page) {
                    return this.options.href ? this.generateQueryString(page) : "#";
                },

                makeText: function (text, page) {
                    return text.replace(this.options.pageVariable, page)
                        .replace(this.options.totalPagesVariable, this.options.totalPages)
                },

                getPageFromQueryString: function (searchStr) {
                    var search = this.getSearchString(searchStr),
                        regex = new RegExp(this.options.pageVariable + '(=([^&#]*)|&|#|$)'),
                        page = regex.exec(search);
                    if (!page || !page[2]) {
                        return null;
                    }
                    page = decodeURIComponent(page[2]);
                    page = parseInt(page);
                    if (isNaN(page)) {
                        return null;
                    }
                    return page;
                },

                generateQueryString: function (pageNumber, searchStr) {
                    var search = this.getSearchString(searchStr),
                        regex = new RegExp(this.options.pageVariable + '=*[^&#]*');
                    if (!search) return '';
                    return '?' + search.replace(regex, this.options.pageVariable + '=' + pageNumber);
                },

                getSearchString: function (searchStr) {
                    var search = searchStr || window.location.search;
                    if (search === '') {
                        return null;
                    }
                    if (search.indexOf('?') === 0) search = search.substr(1);
                    return search;
                },

                getCurrentPage: function () {
                    return this.currentPage;
                },

                getTotalPages: function () {
                    return this.options.totalPages;
                }
            };

            // PLUGIN DEFINITION

            $.fn.twbsPagination = function (option) {
                var args = Array.prototype.slice.call(arguments, 1);
                var methodReturn;

                var $this = $(this);
                var data = $this.data('twbs-pagination');
                var options = typeof option === 'object' ? option : {};

                if (!data) $this.data('twbs-pagination', (data = new TwbsPagination(this, options)));
                if (typeof option === 'string') methodReturn = data[option].apply(data, args);

                return (methodReturn === undefined) ? $this : methodReturn;
            };

            $.fn.twbsPagination.defaults = {
                totalPages: 1,
                startPage: 1,
                visiblePages: 5,
                initiateStartPageClick: true,
                hideOnlyOnePage: false,
                href: false,
                pageVariable: '{{page}}',
                totalPagesVariable: '{{total_pages}}',
                page: null,
                first: 'First',
                prev: 'Previous',
                next: 'Next',
                last: 'Last',
                loop: false,
                beforePageClick: null,
                onPageClick: null,
                paginationClass: 'pagination',
                nextClass: 'page-item next',
                prevClass: 'page-item prev',
                lastClass: 'page-item last',
                firstClass: 'page-item first',
                pageClass: 'page-item',
                activeClass: 'active',
                disabledClass: 'disabled',
                anchorClass: 'page-link'
            };

            $.fn.twbsPagination.Constructor = TwbsPagination;

            $.fn.twbsPagination.noConflict = function () {
                $.fn.twbsPagination = old;
                return this;
            };

            $.fn.twbsPagination.version = "1.4.2";

        })(window.jQuery, window, document);

    </script>

</head>
<body>

<section id="container">
    <!-- **********************************************************************************************************************************************************
TOP BAR CONTENT & NOTIFICATIONS
*********************************************************************************************************************************************************** -->
    <!--header start-->

    <head th:replace="admin/common/header :: navbar"/>
    <!--header end-->

    <!-- **********************************************************************************************************************************************************
MAIN SIDEBAR MENU
*********************************************************************************************************************************************************** -->
    <!--sidebar start-->

    <head th:replace="admin/common/sidebar :: sidebar"/>
    <!--sidebar end-->

    <!-- **********************************************************************************************************************************************************
MAIN CONTENT
*********************************************************************************************************************************************************** -->

    <!--main content start-->
    <section id="main-content">
        <section class="wrapper">
            <section class="wrapper">

                <div class="row">
                    <div class="col-12">
                        <div class="card">

                            <div class="card-body">
                                <div class="card-title mb-4">
                                    <div class="d-flex justify-content-start">
                                        <div class="image-container">
                                            <img th:src="${GENDERIMAGE}" id="imgProfile"
                                                 style="width: 150px; height: 150px" class="img-thumbnail"/>
                                        </div>
                                        <div class="userData ml-3">
                                            <h2 class="d-block" style="font-size: 1.5rem; font-weight: bold"><a
                                                    href="javascript:void(0);">[[${USERMODEL.fullName}]]</a></h2>
                                            <h6 class="d-block"><a
                                                    href="javascript:void(0)">[[${POSTSNUMBERTOTAL}]]</a> Bài
                                                đăng</h6>
                                            <h6 class="d-block"><a
                                                    href="javascript:void(0)">[[${ROOMSNUMBERTOTAL}]]</a> Phòng
                                                trọ</h6>
                                        </div>
                                        <div class="ml-auto">
                                            <input type="button" class="btn btn-primary d-none" id="btnDiscard"
                                                   value="Discard Changes"/>
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-12">
                                        <ul class="nav nav-tabs mb-4" id="myTab" role="tablist">
                                            <li class="nav-item">
                                                <a class="nav-link active" id="basicInfo-tab" data-toggle="tab"
                                                   href="#basicInfo" role="tab" aria-controls="basicInfo"
                                                   aria-selected="true">Basic Info</a>
                                            </li>
                                            <li class="nav-item">
                                                <a class="nav-link" id="connectedServices-tab" data-toggle="tab"
                                                   href="#connectedServices" role="tab"
                                                   aria-controls="connectedServices"
                                                   aria-selected="false">Connected Services</a>
                                            </li>
                                        </ul>
                                        <div class="tab-content ml-1" id="myTabContent">
                                            <div class="tab-pane show active" id="basicInfo" role="tabpanel"
                                                 aria-labelledby="basicInfo-tab">


                                                <div class="row">
                                                    <div class="col-sm-3 col-md-2 col-5">
                                                        <label style="font-weight:bold;">Họ và tên:</label>
                                                    </div>
                                                    <div class="col-md-8 col-6">
                                                        [[${USERMODEL.fullName}]]
                                                    </div>
                                                </div>
                                                <hr/>

                                                <div class="row">
                                                    <div class="col-sm-3 col-md-2 col-5">
                                                        <label style="font-weight:bold;">Số CMND:</label>
                                                    </div>
                                                    <div class="col-md-8 col-6">
                                                        [[${USERMODEL.identityCard}]]
                                                    </div>
                                                </div>
                                                <hr/>

                                                <div class="row">
                                                    <div class="col-sm-3 col-md-2 col-5">
                                                        <label style="font-weight:bold;">Email</label>
                                                    </div>
                                                    <div class="col-md-8 col-6">
                                                        [[${USERMODEL.username}]]
                                                    </div>
                                                </div>
                                                <hr/>
                                                <div class="row">
                                                    <div class="col-sm-3 col-md-2 col-5">
                                                        <label style="font-weight:bold;">Số điện thoại:</label>
                                                    </div>
                                                    <div class="col-md-8 col-6">
                                                        [[${USERMODEL.phoneNumber}]]
                                                    </div>
                                                </div>
                                                <hr/>
                                                <div class="row">
                                                    <div class="col-sm-3 col-md-2 col-5">
                                                        <label style="font-weight:bold;">Giới tính:</label>
                                                    </div>
                                                    <div class="col-md-8 col-6">
                                                        [[${(USERMODEL.gender == 1)?"Nam":((USERMODEL.gender ==
                                                        2)?"Nữ":"Khác")}]]
                                                    </div>
                                                </div>
                                                <hr/>

                                            </div>
                                            <div class="tab-pane fade" id="connectedServices" role="tabpanel"
                                                 aria-labelledby="ConnectedServices-tab">
                                                Facebook, Google, Twitter Account that are connected to this account
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </section>
    </section>
</section>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<head th:replace="admin/common/footer :: footer"/>
<script type="text/javascript">
    var currentPage = [[${RESPONSE.pagination.currentPage}]];
    var totalPages = [[${RESPONSE.pagination.total}]];
    var limit = 5;
    $(function () {
        window.pagObj = $('#pagination').twbsPagination({
            totalPages: totalPages,
            visiblePages: 10,
            startPage: currentPage,
            onPageClick: function (event, page) {
                // console.info(page + ' (from options)');
                if (currentPage != page) {
                    $('#maxPageItem').val(limit);
                    $('#page').val(page);
                    document.querySelector("#submitButton").click();
                }
            }
        }).on('page', function (event, page) {
            console.info(page + ' (from event listening)');
        });
    });
</script>

<script class="include" type="text/javascript" src="/admin/assets/js/jquery.dcjqaccordion.2.7.js"></script>
<script src="/admin/js/jquery.scrollTo.min.js"></script>
<script src="/admin/js/jquery.nicescroll.js" type="text/javascript"></script>
<script src="/admin/js/jquery.sparkline.js"></script>


<!--common script for all pages-->
<script src="/admin/js/common-scripts.js"></script>

<script type="text/javascript" src="/admin/js/gritter/js/jquery.gritter.js"></script>
<script type="text/javascript" src="/admin/js/gritter-conf.js"></script>

<!--script for this page-->
<script src="/admin/js/sparkline-chart.js"></script>
<script src="/admin/js/zabuto_calendar.js"></script>

<script type="text/javascript">
    $(document).ready(function () {
        var unique_id = $.gritter.add({
            // (string | mandatory) the heading of the notification
            title: 'Welcome to Dashgum!',
            // (string | mandatory) the text inside the notification
            text: 'Hover me to enable the Close Button. You can hide the left sidebar clicking on the button next to the logo. Free version for <a href="http://blacktie.co" target="_blank" style="color:#ffd777">BlackTie.co</a>.',
            // (string | optional) the image to display on the left
            image: 'assets/img/ui-sam.jpg',
            // (bool | optional) if you want it to fade out on its own or just sit there
            sticky: true,
            // (int | optional) the time you want it to be alive for before fading out
            time: '',
            // (string | optional) the class name you want to apply to that specific message
            class_name: 'my-sticky-class'
        });

        return false;
    });
</script>

<script type="application/javascript">
    $(document).ready(function () {
        $("#date-popover").popover({html: true, trigger: "manual"});
        $("#date-popover").hide();
        $("#date-popover").click(function (e) {
            $(this).hide();
        });

        $("#my-calendar").zabuto_calendar({
            action: function () {
                return myDateFunction(this.id, false);
            },
            action_nav: function () {
                return myNavFunction(this.id);
            },
            ajax: {
                url: "show_data.php?action=1",
                modal: true
            },
            legend: [
                {type: "text", label: "Special event", badge: "00"},
                {type: "block", label: "Regular event",}
            ]
        });
    });


    function myNavFunction(id) {
        $("#date-popover").hide();
        var nav = $("#" + id).data("navigation");
        var to = $("#" + id).data("to");
        console.log('nav ' + nav + ' to: ' + to.month + '/' + to.year);
    }
</script>
</body>
</html>